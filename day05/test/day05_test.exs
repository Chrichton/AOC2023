defmodule Day05Test do
  use ExUnit.Case

  test "read_input" do
    assert Day05.read_input("sample") ==
             {
               [79, 14, 55, 13],
               [
                 [[50, 98, 2], ~c"420"],
                 [[0, 15, 37], [37, 52, 2], [39, 0, 15]],
                 [~c"15\b", [0, 11, 42], [42, 0, 7], [57, 7, 4]],
                 [[88, 18, 7], [18, 25, 70]],
                 [[45, 77, 23], [81, 45, 19], ~c"D@\r"],
                 [[0, 69, 1], [1, 0, 69]],
                 [[60, 56, 37], [56, 93, 4]]
               ]
             }
  end

  test "find_destination" do
    assert Day05.find_destination(79, 52, 50, 48) == 81
  end

  test "sample1" do
    assert Day05.solve("sample") == 35
  end

  test "star1" do
    assert Day05.solve("star") == 535_088_217
  end

  # test "read_input2" do
  #   assert Day05.read_input2("sample") ==
  #            {
  #              [
  #                79,
  #                78,
  #                77,
  #                76,
  #                75,
  #                74,
  #                73,
  #                72,
  #                71,
  #                70,
  #                69,
  #                68,
  #                67,
  #                66,
  #                65,
  #                64,
  #                63,
  #                62,
  #                61,
  #                60,
  #                59,
  #                58,
  #                57,
  #                56,
  #                55,
  #                54,
  #                53,
  #                52,
  #                51,
  #                50,
  #                49,
  #                48,
  #                47,
  #                46,
  #                45,
  #                44,
  #                43,
  #                42,
  #                41,
  #                40,
  #                39,
  #                38,
  #                37,
  #                36,
  #                35,
  #                34,
  #                33,
  #                32,
  #                31,
  #                30,
  #                29,
  #                28,
  #                27,
  #                26,
  #                25,
  #                24,
  #                23,
  #                22,
  #                21,
  #                20,
  #                19,
  #                18,
  #                17,
  #                16,
  #                15,
  #                14,
  #                13,
  #                55,
  #                54,
  #                53,
  #                52,
  #                51,
  #                50,
  #                49,
  #                48,
  #                47,
  #                46,
  #                45,
  #                44,
  #                43,
  #                42,
  #                41,
  #                40,
  #                39,
  #                38,
  #                37,
  #                36,
  #                35,
  #                34,
  #                33,
  #                32,
  #                31,
  #                30,
  #                29,
  #                28,
  #                27,
  #                26,
  #                25,
  #                24,
  #                23,
  #                22,
  #                21,
  #                20,
  #                19,
  #                18,
  #                17,
  #                16,
  #                15,
  #                14,
  #                13,
  #                12
  #              ],
  #              [
  #                [[50, 98, 2], ~c"420"],
  #                [[0, 15, 37], [37, 52, 2], [39, 0, 15]],
  #                [~c"15\b", [0, 11, 42], [42, 0, 7], [57, 7, 4]],
  #                [[88, 18, 7], [18, 25, 70]],
  #                [[45, 77, 23], [81, 45, 19], ~c"D@\r"],
  #                [[0, 69, 1], [1, 0, 69]],
  #                [~c"<8%", [56, 93, 4]]
  #              ]
  #            }
  # end

  @tag timeout: :infinity
  test "star2" do
    assert Day05.solve2("star") == 535_088_217
  end
end
